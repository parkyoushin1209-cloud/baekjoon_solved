#define _CRT_SECURE_NO_WARNINGS
#include <stdio.h>
#include <stdlib.h>

#define MAX 100001
int max_heap[MAX];
int min_heap[MAX];
int max_size = 0, min_size = 0;

int cmp_max(int a, int b) {
	return a > b;
}

int cmp_min(int a, int b) {
	return a < b;
}

void initheap(int* size) {
	size = 0;
}

int isempty(int* size) {
	return size == 0;
}

void heappush(int* heap, int* size, int value, int(*cmp)(int, int)) {
	heap[++(*size)] = value;
	int i = *size;
	while (i > 1 && cmp(heap[i], heap[i / 2])) {
		int temp = heap[i];
		heap[i] = heap[i / 2];
		heap[i / 2] = temp;
		i = i / 2;
	}
}

int heappop(int* heap, int* size, int (*cmp)(int, int)) {
	int result = heap[1];
	heap[1] = heap[(*size)--];
	int i = 1;
	while (1) {
		int target = i;
		int left = i * 2;
		int right = i * 2 + 1;
		if (left <= *size && cmp(heap[left], heap[target])) target = left;
		if (right <= *size && cmp(heap[right], heap[target])) target = right;
		if (target == i) break;
		int temp = heap[target];
		heap[target] = heap[i];
		heap[i] = temp;
		i = target;
	}
	return result;
}

int main() {
	int n;
	scanf("%d", &n);
	for (int i = 0; i < n; i++) {
		int x;
		scanf("%d", &x);
		heappush(max_heap, &max_size, x, cmp_max);
		heappush(min_heap, &min_size, heappop(max_heap, &max_size, cmp_max), cmp_min);

		if (min_size > max_size) {
			heappush(max_heap, &max_size,heappop(min_heap,&min_size,cmp_min), cmp_max);
		}

		printf("%d", max_heap[1]);
	}
	return 0;
}
// 자료구조 두 개면 포인터로 넘기면 편함
// 포인터값 변환시 () 안에 *size 넣기
// compare 앞 요소 기준
// heappop,push 에 인수로 함수 넣기  반환 자료형 (*함수명) (인수 자료형)
// cmp 시 부모 노드가 뒤에 옴
