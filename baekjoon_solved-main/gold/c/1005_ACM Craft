#define _CRT_SECURE_NO_WARNINGS
#include <stdio.h>
#include <stdlib.h>
#define MAX 1500

int target, t, n, k;
int time[MAX];
int indegree[MAX];
int dp[MAX];
int Queue[MAX];
int front = 0, rear = 0;


typedef struct Node {
	int to;
	struct Node* next;
}Node;

Node* graph[MAX];

void addedge(int a, int b) {
	Node* newNode = (Node*)malloc(sizeof(Node));
	newNode->to = b;
	newNode->next = graph[a];
	graph[a] = newNode;
}


int isempty() {
	return front == rear;
}

void enqueue(int value) {
	Queue[rear++] = value;
}

int dequeue() {
	return Queue[front++];
}

void initQueue() {
	front = rear = 0;
}

void topology_sort() {
	for (int i = 1; i <= n; i++) {
		if (indegree[i] == 0) {
			enqueue(i);
			dp[i] = time[i];
		}
	}

	while (!isempty()) {
		int now = dequeue();
		for (Node* cur = graph[now]; cur != NULL; cur = cur->next) {
			int nxt = cur->to;
			if (dp[nxt] < dp[now] + time[nxt])
				dp[nxt] = dp[now] + time[nxt];
			indegree[nxt]--;

			if (indegree[nxt] == 0)
				enqueue(nxt);
		}
	}
}

int main() {
	scanf("%d", &t);
	for (int o = 0; o < t; o++) {
		initQueue();
		scanf("%d %d", &n, &k);
		
		for (int i = 1; i <= n; i++) {
			scanf(" %d", &time[i]);
			dp[i] = 0;
			indegree[i] = 0;
			graph[i] = NULL;
		}

		for (int i = 0; i < k; i++) {
			int a, b;
			scanf("%d %d", &a, &b);
			addedge(a, b);
			indegree[b]++;
		}

		scanf("%d", &target);
		topology_sort();
		printf("%d\n", dp[target]);
	}

	return 0;
}
