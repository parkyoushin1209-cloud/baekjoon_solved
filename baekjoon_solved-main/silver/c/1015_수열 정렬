#define _CRT_SECURE_NO_WARNINGS
#include <stdio.h>
#include <stdlib.h>
#define MAX 1001

typedef struct {
	int idx;
	int value;
}Info;

typedef struct {
	Info data[MAX];
	int size;
}Heap;

void initheap(Heap* h) {
	h->size = 0;
}

int isempty(Heap* h) {
	return h->size == 0;
}

int compare(Info parent, Info child) {
	if (parent.value > child.value) return 1;
	if (parent.value < child.value) return 0;
	return parent.idx > child.idx;
}

void heappush(Heap* h, int idx, int value) {
	h->size++;
	h->data[h->size].idx = idx;
	h->data[h->size].value = value;
	int i = h->size;
	while (i > 1 && compare(h->data[i/2], h->data[i])) {
		Info temp = h->data[i / 2];
		h->data[i / 2] = h->data[i];
		h->data[i] = temp;
		i = i / 2;
	}
}

Info heappop(Heap* h) {
	Info result = h->data[1];
	h->data[1] = h->data[h->size--];
	int i = 1;
	while (1) {
		int smallest = i;
		int left = i * 2;
		int right = i * 2 + 1;
		if (left <= h->size && compare(h->data[smallest], h->data[left]))
			smallest = left;
		if (right <= h->size && compare(h->data[smallest], h->data[right]))
			smallest = right;
		if (smallest == i)
			break;
		Info temp = h->data[smallest];
		h->data[smallest] = h->data[i];
		h->data[i] = temp;
		i = smallest;
	}
	return result;
}

int main() {
	int n;
	scanf("%d", &n);

	int* array = (int*)malloc(n*sizeof(int));
	for (int i = 0; i < n; i++)
		scanf(" %d", &array[i]);

	int* result = (int*)malloc(n * sizeof(int));
	for (int i = 0; i < n; i++)
		result[i] = 0;

	Heap h;
	initheap(&h);

	for (int i = 0; i < n; i++)
		heappush(&h, i, array[i]);
	int m = 0;

	while (!isempty(&h)) {
		Info k = heappop(&h);
		result[k.idx] = m;
		m++;
	}

	for (int i = 0; i < n-1; i++)
		printf("%d ", result[i]);
	printf("%d", result[n - 1]);
	free(result);
	free(array);
	return 0;
}
##heap초기화 주의, 변수 이름 겹치는지 확인
##우선 비교해야 하는 변수가 있을 경우 두 가지 케이스 모두에 대해 반환값 설정하고 다음 변수 비교
